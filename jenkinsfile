
pipeline {
  
  stage('npm-build') {
    agent {
        docker {
            image 'node:7.4'
        }
    }
withNPM(npmrcConfig: 'my-custom-nprc') {
    sh 'npm install'
}
    steps {
        echo "Branch is ${env.BRANCH_NAME}..."

        withNPM(npmrcConfig:'my-custom-npmrc') {
            echo "Performing npm build..."
            sh 'npm install'
        }
    }
}
}
